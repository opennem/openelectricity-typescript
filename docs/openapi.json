{"openapi":"3.1.0","info":{"title":"OpenElectricity - v4.0","version":"v4.0"},"paths":{"/v4/data/energy/network/{network_code}":{"get":{"tags":["Data"],"summary":"Get Energy Network","description":"Get energy data for a specific network.\n\nThis endpoint returns energy data for a network, optionally filtered by\ntime interval and date range. Data is aggregated according to the specified\ngroupings.\n\nArgs:\n    network_code: The network code to get data for\n    interval: The time interval to aggregate by\n    date_start: Start time for the query (UTC)\n    date_end: End time for the query (UTC)\n    primary_grouping: Primary grouping to apply (network or network_region)\n    secondary_grouping: Optional secondary grouping to apply\n    client: ClickHouse client\n\nReturns:\n    NetworkTimeSeriesResponse: The energy data response\n\nRaises:\n    HTTPException: If the network is not found or parameters are invalid","operationId":"get_energy_network_v4_data_energy_network__network_code__get","parameters":[{"name":"network_code","in":"path","required":true,"schema":{"type":"string","title":"Network Code"}},{"name":"interval","in":"query","required":false,"schema":{"$ref":"#/components/schemas/Interval","description":"The time interval to aggregate data by","default":"5m"},"description":"The time interval to aggregate data by","example":"1h"},{"name":"date_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start time for the query (UTC)","title":"Date Start"},"description":"Start time for the query (UTC)","example":"2024-01-01T00:00:00Z"},{"name":"date_end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End time for the query (UTC)","title":"Date End"},"description":"End time for the query (UTC)","example":"2024-01-02T00:00:00Z"},{"name":"primary_grouping","in":"query","required":false,"schema":{"$ref":"#/components/schemas/PrimaryGrouping","description":"Primary grouping to apply","default":"network"},"description":"Primary grouping to apply","example":"network_region"},{"name":"secondary_grouping","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/SecondaryGrouping"},{"type":"null"}],"description":"Optional secondary grouping to apply","title":"Secondary Grouping"},"description":"Optional secondary grouping to apply","example":"fueltech_group"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NetworkTimeSeriesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/data/energy/network/{network_code}/{facility_code}":{"get":{"tags":["Data"],"summary":"Get Energy Facility","operationId":"get_energy_facility_v4_data_energy_network__network_code___facility_code__get","parameters":[{"name":"network_code","in":"path","required":true,"schema":{"type":"string","title":"Network Code"}},{"name":"facility_code","in":"path","required":true,"schema":{"type":"string","title":"Facility Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/facility/":{"get":{"tags":["Facilities"],"summary":"Get Facilities","description":"Get a list of all facilities","operationId":"get_facilities_v4_facility__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}}}}},"/v4/facility/au/{network_id}/{station_code}":{"get":{"tags":["Facilities"],"summary":"Get Station Information","description":"Get a single station by code","operationId":"Get_station_information_v4_facility_au__network_id___station_code__get","parameters":[{"name":"network_id","in":"path","required":true,"schema":{"type":"string","title":"Network Id"}},{"name":"station_code","in":"path","required":true,"schema":{"type":"string","title":"Station Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/fueltechs":{"get":{"tags":["Core"],"summary":"Fueltechs","description":"Get all fueltechs","operationId":"fueltechs_v4_fueltechs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/FueltechSchema"},"type":"array","title":"Response Fueltechs V4 Fueltechs Get"}}}}}}},"/v4/intervals":{"get":{"tags":["Core"],"summary":"Intervals","description":"Get all intervals","operationId":"intervals_v4_intervals_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TimeInterval"},"type":"array","title":"Response Intervals V4 Intervals Get"}}}}}}},"/v4/me":{"get":{"tags":["User"],"summary":"Get User Me","description":"Get the current user","operationId":"get_user_me_v4_me_get","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/OpenNEMUser-Input"},{"type":"null"}],"title":"User"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenNEMUser-Output"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/v4/networks":{"get":{"tags":["Core"],"summary":"Get Networks","description":"Get networks","operationId":"get_networks_v4_networks_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/APINetworkSchema"},"type":"array","title":"Response Get Networks V4 Networks Get"}}}}}}},"/v4/networks/regions":{"get":{"tags":["Core"],"summary":"Get Network Regions","description":"Get network regions","operationId":"get_network_regions_v4_networks_regions_get","parameters":[{"name":"network_code","in":"query","required":true,"schema":{"type":"string","description":"Network code","title":"Network Code"},"description":"Network code"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/APINetworkRegion"},"title":"Response Get Network Regions V4 Networks Regions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/periods":{"get":{"tags":["Core"],"summary":"Periods","description":"Get all periods","operationId":"periods_v4_periods_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TimePeriod"},"type":"array","title":"Response Periods V4 Periods Get"}}}}}}},"/v4/units":{"get":{"tags":["Core"],"summary":"Units","description":"Get all units","operationId":"units_v4_units_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UnitDefinition"},"type":"array","title":"Response Units V4 Units Get"}}}}}}}},"components":{"schemas":{"APINetworkRegion":{"properties":{"code":{"type":"string","title":"Code"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"}},"type":"object","required":["code"],"title":"APINetworkRegion"},"APINetworkSchema":{"properties":{"code":{"type":"string","title":"Code"},"country":{"type":"string","title":"Country"},"label":{"type":"string","title":"Label"},"regions":{"anyOf":[{"items":{"$ref":"#/components/schemas/APINetworkRegion"},"type":"array"},{"type":"null"}],"title":"Regions"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone","description":"Network timezone"},"interval_size":{"type":"integer","title":"Interval Size","description":"Size of network interval in minutes"}},"type":"object","required":["code","country","label","interval_size"],"title":"APINetworkSchema"},"APIV4ResponseSchema":{"properties":{"version":{"type":"string","title":"Version"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"success":{"type":"boolean","title":"Success","default":true},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"data":{"items":{},"type":"array","title":"Data","default":[]},"total_records":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Records"}},"type":"object","title":"APIV4ResponseSchema"},"FueltechSchema":{"properties":{"code":{"type":"string","title":"Code"},"label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label"},"renewable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Renewable"}},"type":"object","required":["code"],"title":"FueltechSchema"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Interval":{"type":"string","enum":["5m","1h","1d","7d","1M","3M","season","1y","fy"],"title":"Interval","description":"Time intervals for aggregating time series data.\n\nThese intervals are used to group time series data into fixed-width periods\nfor both API queries and database aggregations.\n\nAttributes:\n    INTERVAL: 5-minute interval (default trading interval)\n    HOUR: 1-hour interval\n    DAY: Daily interval\n    WEEK: 7-day interval\n    MONTH: Monthly interval\n    QUARTER: Quarterly interval\n    SEASON: Seasonal interval (3 months)\n    YEAR: Yearly interval\n    FINANCIAL_YEAR: Financial year interval (July-June)"},"Metric":{"type":"string","enum":["power","energy","price","market_value","emissions","renewable_proportion"],"title":"Metric","description":"Types of metrics that can be queried in OpenNEM.\n\nEach metric represents a different type of measurement or calculation\nthat can be performed on the data.\n\nAttributes:\n    POWER: Instantaneous power output/consumption (MW)\n    ENERGY: Energy generated/consumed over time (MWh)\n    PRICE: Price per unit of energy ($/MWh)\n    MARKET_VALUE: Total market value ($)\n    EMISSIONS: CO2 equivalent emissions (tonnes)\n    RENEWABLE_PROPORTION: Percentage of renewable energy (%)"},"NetworkTimeSeries":{"properties":{"network_code":{"type":"string","title":"Network Code"},"metric":{"$ref":"#/components/schemas/Metric"},"unit":{"type":"string","title":"Unit","default":""},"interval":{"$ref":"#/components/schemas/Interval"},"start":{"type":"string","format":"date-time","title":"Start"},"end":{"type":"string","format":"date-time","title":"End"},"primary_grouping":{"$ref":"#/components/schemas/PrimaryGrouping","default":"network"},"secondary_groupings":{"items":{"$ref":"#/components/schemas/SecondaryGrouping"},"type":"array","title":"Secondary Groupings","default":[]},"results":{"items":{"$ref":"#/components/schemas/TimeSeriesResult"},"type":"array","title":"Results"}},"type":"object","required":["network_code","metric","interval","start","end","results"],"title":"NetworkTimeSeries","description":"Network time series data container.\n\nThis model represents time series data for a network over a specific\ntime period and interval.\n\nAttributes:\n    network_code: The network code the data is for\n    metric: The type of metric being returned\n    unit: The unit of measurement\n    interval: The time interval the data is aggregated by\n    start: The start time of the data range (UTC)\n    end: The end time of the data range (UTC)\n    primary_grouping: The primary grouping type (network or network_region)\n    secondary_groupings: Optional list of secondary groupings (fueltech, etc.)\n    results: List of time series results"},"NetworkTimeSeriesResponse":{"properties":{"version":{"type":"string","title":"Version"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"success":{"type":"boolean","title":"Success","default":true},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"data":{"$ref":"#/components/schemas/NetworkTimeSeries"},"total_records":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Records"}},"type":"object","required":["data"],"title":"NetworkTimeSeriesResponse","description":"API v4 response for network time series data."},"OpenNEMRoles":{"type":"string","enum":["admin","pro","academic","user","anonymous"],"title":"OpenNEMRoles"},"OpenNEMUser-Input":{"properties":{"valid":{"type":"boolean","title":"Valid"},"id":{"type":"string","title":"Id"},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Meta","default":{}},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"rate_limit":{"anyOf":[{"$ref":"#/components/schemas/OpenNEMUserRateLimit"},{"type":"null"}]},"unkey_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Unkey Meta"},"clerk_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Clerk Meta"},"roles":{"items":{"$ref":"#/components/schemas/OpenNEMRoles"},"type":"array","title":"Roles","default":["anonymous"]}},"type":"object","required":["valid","id"],"title":"OpenNEMUser"},"OpenNEMUser-Output":{"properties":{"valid":{"type":"boolean","title":"Valid"},"id":{"type":"string","title":"Id"},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"rate_limit":{"anyOf":[{"$ref":"#/components/schemas/OpenNEMUserRateLimit"},{"type":"null"}]},"unkey_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Unkey Meta"},"clerk_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Clerk Meta"},"roles":{"items":{"$ref":"#/components/schemas/OpenNEMRoles"},"type":"array","title":"Roles","default":["anonymous"]}},"type":"object","required":["valid","id"],"title":"OpenNEMUser"},"OpenNEMUserRateLimit":{"properties":{"limit":{"type":"integer","title":"Limit"},"remaining":{"type":"integer","title":"Remaining"},"reset":{"anyOf":[{"type":"string","format":"date-time"},{"type":"integer"}],"title":"Reset"}},"type":"object","required":["limit","remaining","reset"],"title":"OpenNEMUserRateLimit"},"PrimaryGrouping":{"type":"string","enum":["network","network_region"],"title":"PrimaryGrouping","description":"Primary grouping types for time series data.\n\nThese groupings are network-based and determine the base level of aggregation.\n\nAttributes:\n    NETWORK: Group by network only (default)\n    NETWORK_REGION: Group by network regions (e.g., QLD1, NSW1)"},"SecondaryGrouping":{"type":"string","enum":["fueltech","fueltech_group","status","renewable"],"title":"SecondaryGrouping","description":"Secondary grouping types for time series data.\n\nThese groupings can be applied on top of the primary grouping to provide\nadditional dimensionality to the data.\n\nAttributes:\n    FUELTECH: Group by individual fuel technologies\n    FUELTECH_GROUP: Group by fuel technology groups (e.g., coal, gas, solar)\n    STATUS: Group by facility status (e.g., operating, retired)\n    RENEWABLE: Group by renewable vs non-renewable"},"TimeInterval":{"properties":{"interval":{"type":"integer","title":"Interval","description":"Interval size in minutes"},"interval_human":{"type":"string","title":"Interval Human","description":"Interval size in human length"},"interval_sql":{"type":"string","title":"Interval Sql"},"trunc":{"type":"string","title":"Trunc"}},"type":"object","required":["interval","interval_human","interval_sql","trunc"],"title":"TimeInterval"},"TimePeriod":{"properties":{"period":{"type":"integer","title":"Period","description":"Period in minutes"},"period_human":{"type":"string","title":"Period Human","description":"Period in human size"},"period_sql":{"type":"string","title":"Period Sql"}},"type":"object","required":["period","period_human","period_sql"],"title":"TimePeriod"},"TimeSeriesResult":{"properties":{"name":{"type":"string","title":"Name"},"date_start":{"type":"string","format":"date-time","title":"Date Start"},"date_end":{"type":"string","format":"date-time","title":"Date End"},"labels":{"additionalProperties":{"type":"string"},"type":"object","title":"Labels","default":{}},"data":{"items":{"prefixItems":[{"type":"string","format":"date-time"},{"anyOf":[{"type":"number"},{"type":"null"}]}],"type":"array","maxItems":2,"minItems":2},"type":"array","title":"Data"}},"type":"object","required":["name","date_start","date_end","data"],"title":"TimeSeriesResult","description":"A single time series result.\n\nThis model represents a single time series with metadata about what it represents.\nSimilar to how Prometheus structures its time series results.\n\nAttributes:\n    name: The name/identifier for this time series (e.g., \"QLD1\", \"NSW1\")\n    date_start: Start time of the data range\n    date_end: End time of the data range\n    labels: Additional labels/tags for this series (e.g., fueltech=\"coal\")\n    data: List of [timestamp, value] pairs"},"UnitDefinition":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the unit"},"name_alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Alias","description":"Name alias"},"unit_type":{"type":"string","title":"Unit Type","description":"Type of unit"},"round_to":{"type":"integer","title":"Round To","default":2},"unit":{"type":"string","title":"Unit","description":"Unit abbreviation"},"cast_nulls":{"type":"boolean","title":"Cast Nulls","default":true}},"type":"object","required":["name","unit_type","unit"],"title":"UnitDefinition"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}